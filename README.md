# mini shell

实现一个支持作业控制的Unix Shell程序（需要用到进程控制和信号的基本知识）

## 理论

shell是一个交互式的命令行解释器，代表用户运行程序。shell重复打印一个提示符，等待stdin上的命令行，然后按照命令行的内容进行一些操作。

命令行是一串以空格为界的ASCII文本字。命令行的第一个字是一个内置命令的名称或一个可执行文件的路径名。其余的字是命令行参数。如果第一个词是一个内置的命令，shell会立即在当前进程中执行该命令。否则，该词被认为是一个可执行程序的路径名。在这种情况下，shell会fork一个子进程，然后在子进程的上下文中加载和运行该程序。由于解释一个命令行而创建的子进程被统称为一个作业。一般来说，一个作业可以由多个子进程组成，通过Unix管道连接。

如果命令行以逗号"&"
结束，那么作业就在后台运行，这意味着shell在打印提示符和等待下一个命令行之前不会等待作业的终止。否则，作业就在前台运行，这意味着shell在等待下一个命令行之前会等待作业的终止。因此，在任何时间点上，最多只有一个作业在前台运行。然而，任意数量的作业可以在后台运行。

Unix
shells支持作业控制的概念，它允许用户在后台和前台之间来回移动作业，并改变一个作业中的进程状态（运行、停止或终止）。输入ctrl-c会导致一个SIGINT信号传递给前台作业中的每个进程。SIGINT的默认动作是终止该进程。同样，输入ctrl-z会向前台工作中的每个进程发送一个SIGTSTP信号。SIGTSTP的默认动作是将进程置于停止状态，直到它收到SIGCONT信号而被唤醒。Unix
shells还提供了各种支持作业控制的内置命令。